<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Boom</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Boom">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Boom">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Boom">
  
    <link rel="alternate" href="/atom.xml" title="Boom" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Boom</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Boom&#39;s study notes of front-end development</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-js继承" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/js继承/" class="article-date">
  <time datetime="2019-03-21T11:57:40.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/js继承/">js继承</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、原型链继承(将父类的实例作为子类的原型)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">        function animal()&#123;</span><br><span class="line">             this.spices=&apos;动物&apos;;</span><br><span class="line">         &#125;</span><br><span class="line">         animal.prototype.eat=function()&#123;</span><br><span class="line">             console.log(&apos;吃饭&apos;);</span><br><span class="line">         &#125;</span><br><span class="line">         function cat(name,age)&#123;</span><br><span class="line">             this.name=name;</span><br><span class="line">             this.age=age;</span><br><span class="line">         &#125;</span><br><span class="line">         cat.prototype=new animal();</span><br><span class="line">         cat.prototype.constructor=cat;</span><br><span class="line">         var c1=new cat(&apos;tom&apos;,1);</span><br><span class="line">         c1.eat();</span><br><span class="line">         console.log(c1.spices);//动物</span><br><span class="line">//不能给父构造函数传递参数，父子构造函数的原型对象之间有共享问题</span><br></pre></td></tr></table></figure></p>
<p>2.构造继承<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function animal(name)&#123;</span><br><span class="line">            this.name=name;</span><br><span class="line">        &#125;</span><br><span class="line">        function cat(name,age)&#123;</span><br><span class="line">            animal.call(this,name);</span><br><span class="line">            this.age=age;</span><br><span class="line">        &#125;</span><br><span class="line">        var c1=new cat(&apos;tom&apos;,1);</span><br><span class="line">        console.log(c1);</span><br></pre></td></tr></table></figure></p>
<p>第一种方法也是最简单的方法，<br>使用call或apply方法，将父对象的构造函数绑定在子对象上，即在子对象构造函数中加一行：<br>缺点: 父类的方法没有被共享，造成内存浪费<br>3.组合继承</p>
<p>组合继承，指的是将原型链和借用构造函数的技术组合到一起。思路是使用原型链实现对原型方法的继承，<br>而通过借用构造函数来实现对实例属性的继承。<br>这样，既通过在原型上定义方法实现了函数的复用，又能够保证每个实例都有它自己的属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  function animal()&#123;</span><br><span class="line">      this.spices=&apos;动物&apos;;</span><br><span class="line">  &#125;</span><br><span class="line">  animal.prototype.eat=function()&#123;</span><br><span class="line">      console.log(&apos;吃饭&apos;);</span><br><span class="line">  &#125;</span><br><span class="line">  function cat(name,age)&#123;</span><br><span class="line">      animal.call(this);</span><br><span class="line">      this.name=name;</span><br><span class="line">      this.age=age;</span><br><span class="line">  &#125;</span><br><span class="line">  var t=new animal();</span><br><span class="line">  cat.prototype=t;</span><br><span class="line">  cat.prototype.constructor=cat;</span><br><span class="line">  cat.prototype.catchmouse=function()&#123;</span><br><span class="line">      console.log(&apos;抓老鼠&apos;);</span><br><span class="line">  &#125;</span><br><span class="line">var c1=new  cat(&apos;tom&apos;,1,);//在子类构造函数作用环境执行一次父类的构造函数实现</span><br><span class="line">c1.spices=&apos;小猫&apos;;//因此再次修改并不会改变t实例的值</span><br><span class="line">console.log(t);</span><br><span class="line">console.log(c1);</span><br></pre></td></tr></table></figure></p>
<p>总结：避免了引用类型的属性被所有实例共享，而且可以在子类中向父类传参<br>子类不仅仅可以访问父类原型上的属性和方法，同样也可以访问从父类构造函数中复制的属性和方法</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/21/js继承/" data-id="cjtildu9n0005iwuhxzasgtxo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js轮播图" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/js轮播图/" class="article-date">
  <time datetime="2019-03-21T10:39:03.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/js轮播图/">js轮播图</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这里是完整代码地址<a href="https://github.com/boom51/lunbotu" target="_blank" rel="noopener">轮播图</a><br>用js封装了一个动画函数,如下,element是要移动的元素，target是目标位置,结合定时器设置元素位置，注意每次调用清理定时器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function animate(element,target)&#123;</span><br><span class="line">        clearInterval(element.timeId);//清理定时器</span><br><span class="line">        element.timeId=setInterval(function()&#123;</span><br><span class="line">            var current=element.offsetLeft;</span><br><span class="line">            var step=9;</span><br><span class="line">            step=current&lt;target?step:-step;</span><br><span class="line">            current+=step;</span><br><span class="line">            if(Math.abs(target-current)&gt;Math.abs(step))&#123;</span><br><span class="line">                element.style.left=current+&quot;px&quot;;</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">               clearInterval(element.timeId);//清理定时器</span><br><span class="line">                element.style.left=target+&quot;px&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;,10);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>页面框架<br>通过动画函数，移动装了img的盒子lb来实现do<br>lr盒子放置的是向左向右的按钮<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;container&quot;&gt;</span><br><span class="line">        &lt;div id=&quot;lb&quot;&gt;</span><br><span class="line">            &lt;img src=&quot;xs1.PNG&quot; alt=&quot;&quot;&gt;</span><br><span class="line">            &lt;img src=&quot;xs2.PNG&quot; alt=&quot;&quot;&gt;</span><br><span class="line">            &lt;img src=&quot;xs3.PNG&quot; alt=&quot;&quot;&gt;</span><br><span class="line">            &lt;img src=&quot;xs4.PNG&quot; alt=&quot;&quot;&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div id=&quot;buttons&quot;&gt;</span><br><span class="line">            &lt;span&gt;1&lt;/span&gt;</span><br><span class="line">            &lt;span&gt;2&lt;/span&gt;</span><br><span class="line">            &lt;span&gt;3&lt;/span&gt;</span><br><span class="line">            &lt;span&gt;4&lt;/span&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;div id=&quot;lr&quot;&gt;</span><br><span class="line">              &lt;a id=&quot;left&quot;&gt;&amp;lt;&lt;/a&gt;</span><br><span class="line">              &lt;a id=&quot;right&quot;&gt;&amp;gt;&lt;/a&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">       &lt;/div&gt;</span><br><span class="line">       &lt;/body&gt;</span><br></pre></td></tr></table></figure></p>
<p>以下是操作元素的js方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        var box=document.getElementById(&quot;container&quot;);</span><br><span class="line">       var spanObj=box.children[1].children;</span><br><span class="line">       var width=box.offsetWidth;</span><br><span class="line">       var inner=box.children[0];</span><br><span class="line">       var left=document.getElementById(&quot;left&quot;);</span><br><span class="line">       var right=document.getElementById(&quot;right&quot;);</span><br><span class="line">       var lr=document.getElementById(&quot;lr&quot;);</span><br><span class="line">      box.onmouseover=function()&#123;   //鼠标在像框里面时显示</span><br><span class="line">           lr.style.display=&quot;block&quot;;</span><br><span class="line">       &#125;</span><br><span class="line">       box.onmouseout=function()&#123;  //不在时隐藏</span><br><span class="line">           lr.style.display=&quot;none&quot;;</span><br><span class="line">       &#125;</span><br><span class="line">       var index=0;</span><br><span class="line">       left.onclick=function()&#123;</span><br><span class="line">           if(index&gt;0)&#123;</span><br><span class="line">               index--;</span><br><span class="line">               animate(inner,-index*width);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       right.onclick=function()&#123;</span><br><span class="line">           if(index&lt;3)&#123;</span><br><span class="line">               index++;</span><br><span class="line">               animate(inner,-index*width);</span><br><span class="line">           &#125;</span><br><span class="line">           &#125;;</span><br><span class="line">   for(var i=0;i&lt;spanObj.length;i++)&#123;</span><br><span class="line">       spanObj[i].setAttribute(&quot;index&quot;,i);</span><br><span class="line">       spanObj[i].onmouseover=function()&#123;</span><br><span class="line">           var index=this.getAttribute(&quot;index&quot;);</span><br><span class="line">           animate(inner,-index*width);</span><br><span class="line">       &#125;;</span><br><span class="line">   &#125;</span><br><span class="line">  </span><br><span class="line">   &lt;/script&gt;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/21/js轮播图/" data-id="cjtildu9o0006iwuhgoyfq98d" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Vue组件传值" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/Vue组件传值/" class="article-date">
  <time datetime="2019-03-21T06:23:15.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/Vue组件传值/">Vue组件传值</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.父组件向子组件传值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">  &lt;script src=&quot;vue.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;com1 :parentmsg=&quot;msg&quot;&gt;&lt;/com1&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">   var vm=new Vue(&#123;</span><br><span class="line">    el:&apos;#app&apos;,</span><br><span class="line">    data:&#123;</span><br><span class="line">      msg:&apos;这是父组件中的数据&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;&#125;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      com1:&#123;</span><br><span class="line">        props:[&apos;parentmsg&apos;],//只读，无法重新赋值</span><br><span class="line">        template:&apos;&lt;h1&gt;这是子组件++&#123;&#123;parentmsg&#125;&#125;&lt;/h1&gt;&apos;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"> &lt;/script&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>总结：<br>第一，先定义父组件要传递给子组件的值msg<br>第二，调用子组件时，在其标签内通过自定义属性parentmsg绑定msg<br>第三，在子组件内部定义props，接收parentmsg<br>2.父组件向子组件传方法（子组件向父组件传值）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">  &lt;script src=&quot;vue.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">      &lt;com2 v-on:func=&quot;show&quot;&gt;&lt;/com2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;template id=&quot;temp&quot;&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;这是子组件&lt;/h1&gt;</span><br><span class="line">        &lt;button @click=&quot;myclick&quot;&gt;按钮触发传递方法&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/template&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    var com2=&#123;</span><br><span class="line">      template:&apos;#temp&apos;,</span><br><span class="line">      data ()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          sonmsg:&#123;name:&apos;aa&apos;,age:2&#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods:&#123;</span><br><span class="line">        myclick()&#123;</span><br><span class="line">          this.$emit(&apos;func&apos;,this.sonmsg)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    var vm =new Vue(&#123;</span><br><span class="line">      el:&apos;#app&apos;,</span><br><span class="line">      data:&#123;</span><br><span class="line">       parentmsg:null</span><br><span class="line">      &#125;,</span><br><span class="line">      methods:&#123;</span><br><span class="line">        show(data)&#123;</span><br><span class="line">          this.parentmsg=data;</span><br><span class="line">          console.log(this.parentmsg);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      components:&#123;</span><br><span class="line">        com2</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"> &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>总结：<br>首先父组件自定义方法show,<br>在引用时<code>&lt;com2 v-on:func=&quot;show&quot;&gt;&lt;/com2&gt;</code>，通过v-on指令绑定方法，<br>子组件模板内部自定义方法myclick，<code>this.$emit(&#39;func&#39;,123)</code>，通过emit触发调用父组件方法show，同时可以传递子组件的数据给父组件</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/21/Vue组件传值/" data-id="cjtildu8q0001iwuhfmhk2yox" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="ew-Vue指令" class="article article-type-ew" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/Vue指令/" class="article-date">
  <time datetime="2019-03-21T05:03:29.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/Vue指令/">Vue指令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.v-text<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">     &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;             //这两个作用一样</span><br><span class="line">     &lt;span v-text=&quot;msg&quot;&gt;&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data:&#123;</span><br><span class="line">      msg:&apos;hello&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>2.v-html<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;span v-html=&quot;msg&quot;&gt;&lt;/span&gt;</span><br><span class="line"></span><br><span class="line">  data:&#123;</span><br><span class="line">      msg:&apos;&lt;h1&gt;hello&lt;/h1&gt;&apos;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<p>3.v-bind<br>v-bind 主要用于属性绑定，class属性，style属性，value属性，href属性等等,Vue官方提供了一个简写方式 :bind<br>①绑定class<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">       &lt;span v-bind:class=&quot;&#123;active:isActive&#125;&quot; v-text=&apos;msg&apos;&gt;&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data:&#123;</span><br><span class="line">      isActive:true,</span><br><span class="line">        msg:&apos;hello&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.active&#123;</span><br><span class="line">    background-color: #000;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure></p>
<p>②绑定style<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-bind:style=&quot;&#123; color: activeColor, fontSize: fontSize + &apos;px&apos; &#125;&quot;&gt;&lt;/div&gt;</span><br><span class="line">data: &#123;</span><br><span class="line"> activeColor: &apos;red&apos;,</span><br><span class="line"> fontSize: 30</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>3.v-show<br>根据表达式之真假值，切换元素的 display CSS 属性。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div id=&quot;app&quot; v-show=&apos;display&apos;&gt;</span><br><span class="line">       &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data:&#123;</span><br><span class="line">      display: flase, //false时不展示</span><br><span class="line">      isActive:true,</span><br><span class="line">        msg:&apos;hello&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>4.v-if    v-else</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div id=&quot;app&quot; v-show=&apos;display&apos;&gt;</span><br><span class="line">       &lt;p v-if=&quot;ok&quot;&gt;&#123;&#123;msg1&#125;&#125;&lt;/p&gt; //v-else要在v-if后面才生效</span><br><span class="line">       &lt;p v-else&gt;&#123;&#123;msg2&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data:&#123;</span><br><span class="line">      ok:false,</span><br><span class="line">      display: true,</span><br><span class="line">      isActive:true,</span><br><span class="line">        msg1:&apos;hello&apos;,</span><br><span class="line">        msg2:&apos;world&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>5.v-for<br>源数据多次渲染元素或模板块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">      &lt;ul &gt;</span><br><span class="line">          &lt;li v-for=&quot;item in items&quot;&gt;&#123;&#123;item.msg&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data:&#123;</span><br><span class="line">    items:[&#123;msg:&apos;qq&apos;&#125;,&#123;msg:&apos;ww&apos;&#125;,&#123;msg:&apos;aa&apos;&#125;],</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>6.v-on<br>绑定事件监听器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;button v-on:click=&quot;doo&quot;&gt;&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">methods:&#123;</span><br><span class="line">    doo:function()&#123;</span><br><span class="line">        alert(&quot;你好&quot;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;!-- 缩写 --&gt;</span><br><span class="line">&lt;button @click=&quot;doThis&quot;&gt;&lt;/button&gt;</span><br><span class="line">&lt;!-- 停止冒泡 --&gt;</span><br><span class="line">&lt;button @click.stop=&quot;doThis&quot;&gt;&lt;/button&gt;</span><br><span class="line">&lt;!-- 阻止默认行为 --&gt;</span><br><span class="line">&lt;button @click.prevent=&quot;doThis&quot;&gt;&lt;/button&gt;</span><br></pre></td></tr></table></figure></p>
<p>7.v-model<br>实现数据双向绑定<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; v-model=&quot;msg&quot;&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  data:&#123;</span><br><span class="line">   msg:&apos;ni&apos;&#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/21/Vue指令/" data-id="cjtildu8d0000iwuhdm1lowqs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-es6学习笔记之promise" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/20/es6学习笔记之promise/" class="article-date">
  <time datetime="2019-03-20T10:34:32.000Z" itemprop="datePublished">2019-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/20/es6学习笔记之promise/">es6学习笔记之promise</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###1.Promise 的含义<br>异步编程的一种解决方案，可以将异步操作以同步操作的流程表达出来，避免了层层嵌套的回调函数</p>
<p>###2.用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const promise = new Promise(function(resolve, reject) &#123;</span><br><span class="line">  // ... some code</span><br><span class="line"> if (/* 异步操作成功 */)&#123;</span><br><span class="line">    resolve(value);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(function(value) &#123;//指定成功的回调函数</span><br><span class="line">  &#125;, function(error) &#123;//指定失败的回调函数，可选，可不提供</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>下面是一个实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let promise=new Promise(function(resolve,reject)&#123;</span><br><span class="line">console.log(&apos;promise&apos;);</span><br><span class="line">resolve();</span><br><span class="line">&#125;);</span><br><span class="line">promise.then(function ()&#123;</span><br><span class="line">    console.log(&apos;resolve&apos;);</span><br><span class="line">&#125;,function ()&#123;</span><br><span class="line">    console.log(&apos;reject&apos;);</span><br><span class="line">&#125;);</span><br><span class="line">console.log(&apos;hi&apos;);</span><br><span class="line">//promise 先输出promises是因为Promise一建立就会立刻执行</span><br><span class="line">//hi      这是同步队列里的方法，执行性完才执行异步里面的</span><br><span class="line">//resolve</span><br></pre></td></tr></table></figure></p>
<p>resolve函数的参数除了正常的值以外，还可能是另一个 Promise 实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const p1=new Promise((resolve,reject)=&gt;&#123;</span><br><span class="line">    setTimeout(()=&gt;reject(new Error(&apos;fail&apos;)),3000);</span><br><span class="line">&#125;);</span><br><span class="line">const p2=new Promise((resolve,reject)=&gt;&#123;</span><br><span class="line">    setTimeout(()=&gt;resolve(p1),1000);</span><br><span class="line">&#125;)</span><br><span class="line">p2.then(result=&gt;console.log(result)).catch(error=&gt;console.log(error));</span><br></pre></td></tr></table></figure></p>
<p>上面p1决定p2的状态，p1改变，p2,回调函数立即执行<br>调用resolve或reject并不会终结 Promise 的参数函数的执行</p>
<p>###3.Promise.prototype.then()<br>then方法的第一个参数是resolved状态的回调函数，第二个参数（可选）是rejected状态的回调函数，promise实例状态改变时的回调方法，返回的是新的实例，因此可以用链式写法，返回结果传入第二个then作为参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">getJSON(&quot;/post/1.json&quot;).then(</span><br><span class="line">  post =&gt; getJSON(post.commentURL)//第一个参数是resolved状态的回调函数</span><br><span class="line">).then(</span><br><span class="line">  comments =&gt; console.log(&quot;resolved: &quot;, comments),</span><br><span class="line">  err =&gt; console.log(&quot;rejected: &quot;, err)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>###4.Promise.prototype.catch()==.then(null, rejection)<br>用于指定发生错误时(reject)的回调函数,then方法指定的回调函数，如果运行中抛出错误，也会被catch方法捕获<br>Promise 对象的错误具有“冒泡”性质，会一直向后传递，直到被捕获为止。也就是说，错误总是会被下一个catch语句捕获。<br>一般来说，不要在then方法里面定义 Reject 状态的回调函数（即then的第二个参数），总是使用catch方法接近同步的写法（try/catch）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">promise</span><br><span class="line">  .then(function(data) &#123;</span><br><span class="line">    // success</span><br><span class="line">  &#125;, function(err) &#123;</span><br><span class="line">    // error</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">promise</span><br><span class="line">  .then(function(data) &#123; //cb</span><br><span class="line">    // success</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function(err) &#123;</span><br><span class="line">    // error</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure></p>
<p>promise对象产生的错误不会传递到外层，后面的方法会继续执行</p>
<p>###5.Promise.prototype.finally()<br>最后执行的回调函数,如果不使用finally方法，同样的语句需要为成功和失败两种情况各写一次。有了finally方法，则只需要写一次。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">promise</span><br><span class="line">.finally(() =&gt; &#123;</span><br><span class="line">  // 语句</span><br><span class="line">&#125;);</span><br><span class="line">// 等同于</span><br><span class="line">promise</span><br><span class="line">.then(</span><br><span class="line">  result =&gt; &#123;</span><br><span class="line">    // 语句</span><br><span class="line">    return result;</span><br><span class="line">  &#125;,</span><br><span class="line">  error =&gt; &#123;</span><br><span class="line">    // 语句</span><br><span class="line">    throw error;</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure></p>
<p>###6.Promise.all()<br><code>const p = Promise.all([p1, p2, p3]);</code><br>接收数组作为参数，里面都是promise实例，三个状态全部是resolve时才调用p的then(),如果三个之中有一个reject，它没有定义自己的catch，则会调用p的catch,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const p1 = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    resolve(&apos;hello&apos;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(result =&gt; result)</span><br><span class="line">  .catch(e =&gt; e);</span><br><span class="line">  const p2 = new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    throw new Error(&apos;报错了&apos;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(result =&gt; result)</span><br><span class="line">  //.catch(e =&gt; e);</span><br><span class="line">  Promise.all([p1, p2])</span><br><span class="line">  .then(result =&gt; console.log(result))</span><br><span class="line">  .catch(e =&gt; console.log(&quot;haha&quot;+e));//hahaError: 报错了</span><br></pre></td></tr></table></figure></p>
<p>###7.Promise.race()<br><code>const p = Promise.race([p1, p2, p3]);</code><br>race：比赛，也就是说p1,p2,p3中最先改变状态的实例返回值传给p</p>
<p>###8.Promise.resolve()<br>将现有对象转为promise对象<br><code>const jsPromise = Promise.resolve($.ajax(&#39;/whatever.json&#39;));</code></p>
<p>###9.Promise.reject(reason)<br>方法也会返回一个新的 Promise 实例，该实例的状态为rejected。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const p = Promise.reject(&apos;出错了&apos;);</span><br><span class="line">// 等同于</span><br><span class="line">const p = new Promise((resolve, reject) =&gt; reject(&apos;出错了&apos;))</span><br><span class="line">p.then(null, function (s) &#123;</span><br><span class="line">  console.log(s)</span><br><span class="line">&#125;);</span><br><span class="line">// 出错了</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/20/es6学习笔记之promise/" data-id="cjtildu9q0007iwuhb1mn9srz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-高阶函数" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/20/高阶函数/" class="article-date">
  <time datetime="2019-03-20T02:28:23.000Z" itemprop="datePublished">2019-03-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/20/高阶函数/">高阶函数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.高阶函数：一个函数就可以接收另一个函数作为参数，这种函数就称之为高阶函数<br>①map()传入的参数是pow，即函数对象本身,映射成新数组；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function pow(x)&#123;</span><br><span class="line">    return x*x;</span><br><span class="line">&#125;</span><br><span class="line">var arr=[1,2,3,4];</span><br><span class="line">console.log(arr.map(pow));</span><br></pre></td></tr></table></figure></p>
<p>②reduce()实现累加效果，类似于<code>[x1, x2, x3, x4].reduce(f) = f(f(f(x1, x2), x3), x4)</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3,4];</span><br><span class="line">console.log(arr.reduce(function (x,y)&#123;</span><br><span class="line">    return x+y;</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>
<p>③filter也是一个常用的操作，它用于把Array的某些元素过滤掉，然后返回剩下的元素<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var arr=[1,2,3,4,5,6,7,8];</span><br><span class="line">console.log(arr.filter(function (a)&#123;</span><br><span class="line">    return a&gt;4;</span><br><span class="line">&#125;));//[ 5, 6, 7, 8 ]</span><br></pre></td></tr></table></figure></p>
<p>④sort()方法会直接对Array进行修改，它返回的结果仍是当前Array<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var arr=[10,20,1,2];</span><br><span class="line">var newr=arr.sort();//默认的sort方法先将arr内元素转为字符串，再比较ASCII码</span><br><span class="line">console.log(newr);//[ 1, 10, 2, 20 ]</span><br><span class="line"></span><br><span class="line">arr.sort(function (x, y) &#123;//修改后</span><br><span class="line">    if (x &lt; y) &#123;</span><br><span class="line">        return -1;</span><br><span class="line">    &#125;</span><br><span class="line">    if (x &gt; y) &#123;</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;);</span><br><span class="line">console.log(arr); // [1, 2, 10, 20]</span><br></pre></td></tr></table></figure></p>
<p>2.闭包<br>①闭包就是能够读取其他函数内部变量的函数，让这些变量的值始终保持在内存中,使函数可以拥有私有变量<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function lazy_sum(arr) &#123;</span><br><span class="line">    var sum = function () &#123;</span><br><span class="line">        return arr.reduce(function (x, y) &#123;</span><br><span class="line">            return x + y;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    return sum;</span><br><span class="line">&#125;</span><br><span class="line">var f = lazy_sum([1, 2, 3, 4, 5]); // function sum()</span><br><span class="line">f(); // 15</span><br></pre></td></tr></table></figure></p>
<p>每次调用lazy_sum()时会返回新的函数<br>②几道有趣的面试题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">for(var i=0;i&lt;5;i++)&#123;</span><br><span class="line">    var arr=[];</span><br><span class="line">   arr[i]=setTimeout(function()&#123;</span><br><span class="line">       console.log(new Date,i);</span><br><span class="line">   &#125;,1000);</span><br><span class="line">&#125;</span><br><span class="line">console.log(arr);</span><br><span class="line">console.log(new Date,i);//5-&gt;5,5,5,5,5</span><br></pre></td></tr></table></figure></p>
<p>第一个5直接输出，1s后面5个5同时输出，我的理解是，先执行同步队列的里面的方法，执行完后在执行异步队列里面的方法，开启了五个定时器，都是1s之后执行；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">for(var i=0;i&lt;5;i++)&#123;</span><br><span class="line">  (function(j)&#123;</span><br><span class="line">        setTimeout(function()&#123;</span><br><span class="line">            console.log(j);</span><br><span class="line">        &#125;,1000);</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line">console.log(new Date,i);//5-&gt;0,1,2,3,4</span><br></pre></td></tr></table></figure></p>
<p><code>(function(j){})(i)</code>这个方法的作用是让j=i，该函数的参数绑定循环变量当前的值，无论该循环变量后续如何更改，已绑定到函数参数的值不变：</p>
<p> 如果期望输出结果是0-&gt;1-&gt;2-&gt;3-&gt;4-&gt;5<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> for(var i=0;i&lt;5;i++)&#123;</span><br><span class="line"> (function(j)&#123;</span><br><span class="line">       setTimeout(function()&#123;</span><br><span class="line">           console.log(j);</span><br><span class="line">       &#125;,1000*j);</span><br><span class="line"> &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line">setTimeout(function()&#123;</span><br><span class="line">   console.log(i);</span><br><span class="line">&#125;,i*1000);</span><br></pre></td></tr></table></figure></p>
<p>这是一种暴力解法，直接设置了定时器的执行时间，可以用promise解决这个问题；<br>3.箭头函数<br>①（参数）=&gt;{方法体}<br>②箭头函数修复了this指向问题，总是指向外层调用者</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/20/高阶函数/" data-id="cjtildua70009iwuh72m1jgmm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js关于函数" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/19/js关于函数/" class="article-date">
  <time datetime="2019-03-19T13:50:07.000Z" itemprop="datePublished">2019-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/19/js关于函数/">js关于函数</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.定义函数的两种方式<br>①<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function abs(x) &#123;</span><br><span class="line">    if (x &gt;= 0) &#123;</span><br><span class="line">        return x;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return -x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>②第二种方式按照完整语法需要在函数体末尾加一个;，表示赋值语句结束。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var abs = function (x) &#123;</span><br><span class="line">    if (x &gt;= 0) &#123;</span><br><span class="line">        return x;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return -x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2.关于arguments<br>只在函数内部起作用，并且永远指向当前函数的调用者传入的所有参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function abs() &#123;  ///函数不定义任何参数也可以拿到参数值</span><br><span class="line">    if (arguments.length === 0) &#123;</span><br><span class="line">        return 0;</span><br><span class="line">    &#125;</span><br><span class="line">    var x = arguments[0];</span><br><span class="line">    return x &gt;= 0 ? x : -x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>3.关于rest参数（剩余）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function fun(a, b) &#123;</span><br><span class="line">    var i, rest = [];</span><br><span class="line">    if (arguments.length &gt; 2) &#123;</span><br><span class="line">        for (i = 2; i&lt;arguments.length; i++) &#123;</span><br><span class="line">            rest.push(arguments[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    console.log(&apos;a = &apos; + a);</span><br><span class="line">    console.log(&apos;b = &apos; + b);</span><br><span class="line">    console.log(rest);//获取除前两个参数之外的参数，形成数组；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ES6标准引入了rest参数，上面的函数可以改写为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function fun(a, b, ...rest) &#123;//rest参数只能写在最后，前面用...标识</span><br><span class="line">    console.log(&apos;a = &apos; + a);//参数不够两个，返回空数组</span><br><span class="line">    console.log(&apos;b = &apos; + b);</span><br><span class="line">    console.log(rest);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>JavaScript引擎有一个在行末自动添加分号的机制，注意语句换行时的问题<br>4.函数变量提升<br>JavaScript的函数定义有个特点，它会先扫描整个函数体的语句，把所有申明的变量“提升”到函数顶部，但是不会赋值，一般出现结果为undefine<br>5.函数局部作用域<br>为了解决块级作用域，ES6引入了新的关键字let，用let替代var可以申明一个块级作用域的变量：<br>const声明常量；<br>6.解构赋值<br>①直接对多个变量同时赋值<br>es6中，<code>var [x, y, z] = [&#39;hello&#39;, &#39;JavaScript&#39;, &#39;ES6&#39;];</code><br>注意位置对应<br><code>let [x, [y, z]] = [&#39;hello&#39;, [&#39;JavaScript&#39;, &#39;ES6&#39;]];</code><br>②从一个对象中取出若干属性，也可以使用解构赋值，便于快速获取对象的指定属性：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">    name: &apos;小明&apos;,</span><br><span class="line">    age: 20,</span><br><span class="line">    gender: &apos;male&apos;,</span><br><span class="line">    passport: &apos;G-12345678&apos;,</span><br><span class="line">    school: &apos;No.4 middle school&apos;</span><br><span class="line">&#125;;</span><br><span class="line">var &#123;name, age, passport&#125; = person;</span><br></pre></td></tr></table></figure></p>
<p>③使用解构赋值对对象属性进行赋值时，如果对应的属性不存在，变量将被赋值为undefined<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">    name: &apos;小明&apos;,</span><br><span class="line">    age: 20,</span><br><span class="line">    gender: &apos;male&apos;,</span><br><span class="line">    passport: &apos;G-12345678&apos;,</span><br><span class="line">    school: &apos;No.4 middle school&apos;</span><br><span class="line">&#125;;</span><br><span class="line">let &#123;name, passport:id&#125; = person;// 把passport属性赋值给变量id:</span><br><span class="line">console.log(name+id);</span><br><span class="line">console.log(passport);//ReferenceError: passport is not defined</span><br></pre></td></tr></table></figure></p>
<p>把passport属性赋值给变量id后，passport失效<br>④用默认属性赋值解决undefine<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var &#123;name, single=true&#125; = person;//默认为true</span><br></pre></td></tr></table></figure></p>
<p>⑤应用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function builddate(&#123;year,month,day,hour=0,minute=0,second=0&#125;)&#123;</span><br><span class="line">    return new Date(year+&apos;-&apos;+month+&apos;-&apos;+day+&apos;-&apos;+hour+&apos;:&apos;+minute+&apos;:&apos;+second);//注意Date格式</span><br><span class="line">&#125;</span><br><span class="line">console.log(builddate(&#123;year:2019,month:3,day:19&#125;));//后面默认赋值</span><br></pre></td></tr></table></figure></p>
<p>7.方法<br>绑定到对象的函数称为方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var Boom = &#123;</span><br><span class="line">    name: &apos;Boom&apos;,</span><br><span class="line">    birth: 1996,</span><br><span class="line">    age: function () &#123;</span><br><span class="line">        var y = new Date().getFullYear();</span><br><span class="line">        return y - this.birth;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>在一个方法内部，this是一个特殊变量，它始终指向当前对象，也就是Boom这个变量。所以，this.birth可以拿到Boom的birth属性<br>但是内部方法有定时器之类的方法时，this指向window,<br>单独调用方法时，this也指向window,要保证this指向正确，必须用obj.xxx()的形式调用！用es6的箭头函数很好解决这些问题；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var Boom = &#123;</span><br><span class="line">    name: &apos;Boom&apos;,</span><br><span class="line">    birth: 1996,</span><br><span class="line">    age: function () &#123;</span><br><span class="line">        function getAgeFromBirth() &#123;</span><br><span class="line">            var y = new Date().getFullYear();</span><br><span class="line">            return y - this.birth;//这个地方获取不到birth属性值</span><br><span class="line">        &#125;</span><br><span class="line">        return getAgeFromBirth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上面age函数内部的函数，this指向undefine,非严格模式指向window,<br>解决这个问题,在外部函数内部加一个<code>var that=this</code>获取到当前对象，<br>在内部函数调用that.birth<br>8.apply()方法<br>第一个参数就是需要绑定的this变量，第二个参数是Array<br>与call方法类似，区别不同的是第二个参数是按参数顺序传入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getAge() &#123;</span><br><span class="line">    var y = new Date().getFullYear();</span><br><span class="line">    return y - this.birth;</span><br><span class="line">&#125;</span><br><span class="line">var boom = &#123;</span><br><span class="line">    name: &apos;Boom&apos;,</span><br><span class="line">    birth: 1996,</span><br><span class="line">    age: getAge</span><br><span class="line">&#125;;</span><br><span class="line">boom.age(); </span><br><span class="line">getAge.apply(boom, []); // this指向boom, 参数为空</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/19/js关于函数/" data-id="cjtildu9s0008iwuh64vxlvti" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js关于DOM" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/19/js关于DOM/" class="article-date">
  <time datetime="2019-03-19T07:22:32.000Z" itemprop="datePublished">2019-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/19/js关于DOM/">js关于DOM</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>####1.介绍Html的DOM树<br>html标签通过浏览器的解析后才会形成dom树，此后HTML中的每个标签元素，属性，文本都能看做是一个DOM的节点，JavaScript都能通过dom的提供的编程接口操作到每个节点；</p>
<p>####2.DOM树结构图<br><img src="http://www.runoob.com/images/pic_htmltree.gif" alt="此处输入图片的描述"></p>
<p>####3.JavaScript中的DOM编程接口：<br>  获取节点：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById(id);</span><br><span class="line">document.getElementsByName(name);</span><br><span class="line">document.getElementsByClassName(className);</span><br><span class="line">document.getElementsByTagName(tagName);</span><br></pre></td></tr></table></figure></p>
<p>获取/设置元素的属性值<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">element.getAttribute(attributeName);</span><br><span class="line">element.setAttribute(attributeName,attributeValue);</span><br></pre></td></tr></table></figure></p>
<p>创建节点Node<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.createElement(&quot;h3&quot;);</span><br><span class="line">document.createTextNode(String); </span><br><span class="line">document.createAttribute(&quot;class&quot;);</span><br></pre></td></tr></table></figure></p>
<p>增添节点<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">element.appendChild(Node);</span><br><span class="line">elelment.insertBefore(newNode,existingNode);</span><br></pre></td></tr></table></figure></p>
<p>删除节点<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.removeChild(Node);</span><br></pre></td></tr></table></figure></p>
<p>####4.常用属性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">element.parentNode //返回当前元素的父节点对象</span><br><span class="line">element.chlidren//返回当前元素所有子元素节点对象，只返回HTML节点</span><br><span class="line">element.chilidNodes//返回当前元素多有子节点，包括文本，HTML，属性节点。（回车也会当做一个节点）</span><br><span class="line"></span><br><span class="line">element.nextSibling//返回当前元素的下一个同级元素 没有就返回null</span><br><span class="line">element.previousSibling //返回当前元素上一个同级元素 没有就返回null</span><br><span class="line"></span><br><span class="line">element.innerHTML   //返回元素的所有文本，包括html代码</span><br><span class="line">element.innerText//返回当前元素的自身及子代所有文本值，只是文本内容，不包括html代码</span><br><span class="line"></span><br><span class="line">node.nodeType//返回节点的类型,数字形式1：元素节点，2：属性节点，3：文本节点。</span><br></pre></td></tr></table></figure></p>
<p>####5.实例<br>创建新的元素节点,并添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;dv&quot;&gt;</span><br><span class="line">        &lt;p&gt;11&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;22&lt;/p&gt;</span><br><span class="line">        &lt;p&gt;33&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var textNode=document.createTextNode(&quot;44&quot;);</span><br><span class="line">    var eleNode=document.createElement(&quot;p&quot;);</span><br><span class="line">    eleNode.appendChild(textNode);</span><br><span class="line">    var dvNode=document.getElementById(&quot;dv&quot;);</span><br><span class="line">    dvNode.appendChild(eleNode);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<p>隔行变色案例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var arr=document.getElementById(&quot;uu&quot;);</span><br><span class="line">var son=arr.childNodes;</span><br><span class="line">var count=0;</span><br><span class="line">for(var i=0;i&lt;son.length;i++)&#123;</span><br><span class="line">    if(son[i].nodeType==1&amp;&amp;son[i].nodeName==&quot;LI&quot;)&#123;</span><br><span class="line">       count++;</span><br><span class="line">       son[i].style.backgroundColor=count%2==0?&quot;red&quot;:&quot;purple&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>遍历dom树<br>children:只包含元素节点<br>childNodes:包含所有类型的节点,利用函数递归调用，遍历dom树<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var list=[];</span><br><span class="line">var father=document.getElementById(&quot;dv&quot;);</span><br><span class="line">function getDom(ele)&#123;</span><br><span class="line">    var childlist=ele.children;</span><br><span class="line">    for(var i=0;i&lt;childlist.length;i++)&#123;</span><br><span class="line">        list.push(childlist[i]);</span><br><span class="line">        getDom(childlist[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">getDom(father);</span><br><span class="line">console.log(list);</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/19/js关于DOM/" data-id="cjtildu9l0004iwuhblg4kb8c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js关于字符串" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/19/js关于字符串/" class="article-date">
  <time datetime="2019-03-19T05:52:05.000Z" itemprop="datePublished">2019-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/19/js关于字符串/">js关于字符串</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.string属性：length长度  prototype用于给对象添加属性或方法，所有实例共享，扩展内置对象<br>2.获取类方法<br>(1) <code>charAt(index)</code>获取index位置上的字符，若无返回null;<br>(2)<code>charCodeAt(index)</code>fan’hu返回index位置上的Unicode编码；<br>(3)<code>fromCharCode(numX,numX,…,numX)</code>接收Unicode值，返回对应的字符串，<br>String.fromCharCode(97, 98, 99, 100, 101)   //返回abcde<br>3.查找类方法<br>(1)<code>indexOf()</code>,可以接收两个参数，第一个是需要查找的字符或字符串，第二个是从哪个位置开始查找；,返回-1表示没找到<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var str=&quot;17829&quot;;</span><br><span class="line">var a=str.indexOf(&quot;w&quot;);</span><br><span class="line">console.log(a);//-1</span><br></pre></td></tr></table></figure></p>
<p>(2)lastIndexOf()方法，表示从后往前查找；<br>(3) search()方法，接收字符串参数，或者正则表达式；<br>返回第一次找到元素的位置，若没找到返回-1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var str=&quot;17829W1w&quot;;</span><br><span class="line">var b=str.search(&apos;ww&apos;);</span><br><span class="line">var a=str.search(/w/i);//i表示不区分大小写</span><br><span class="line">console.log(a,b);//5 -1</span><br></pre></td></tr></table></figure></p>
<p>(4) <code>match()</code>方法,接收字符串参数，或者正则表达式,与search方法不同的是，如果参数是子字符串或是没有进行全局匹配的正则表达式，会返回null或数组，如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var str=&quot;178sdf29W1w&quot;;</span><br><span class="line">var b=str.match(&apos;sdf&apos;);</span><br><span class="line">//b的输出结果[ &apos;sdf&apos;, index: 3, input: &apos;178sdf29W1w&apos;, groups: undefined ]</span><br><span class="line">var c=str.match(/f29/);</span><br><span class="line">//c的输出结果[ &apos;f29&apos;, index: 5, input: &apos;178sdf29W1w&apos;, groups: undefined ]</span><br><span class="line">var a=str.match(/123/);//a的输出结果null</span><br></pre></td></tr></table></figure></p>
<p>如果参数传入的是具有全局匹配的正则表达式，那么match()从开始位置进行多次匹配，直到最后。如果没有匹配到结果，则返回null。否则则会返回一个数组，数组中存放所有符合要求的子字符串，并且没有index和input属性。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;1a2b3c4d5e&apos;;</span><br><span class="line">console.log(str.match(/h/g));   //返回null</span><br><span class="line">console.log(str.match(/\d/g));  //返回[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;]</span><br></pre></td></tr></table></figure></p>
<p>4.截取类方法<br>(1)<code>substring(start,end)</code>,返回指定位置截取到的字符串，若无第二个参数，一直截取到最后；规定参数不可以为负值；<br>(2)<code>slice(start,end)</code>start和end可以是负值，-1表示最后一个位置；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var str=&quot;178sdf29W1w&quot;;</span><br><span class="line">var a=str.slice(-7,-1);//df29W1，正确，start&lt;end</span><br><span class="line">var a=str.slice(-4,-6);//错误示范</span><br><span class="line">console.log(a);</span><br></pre></td></tr></table></figure></p>
<p>(2)<code>substr(start,length)</code>从指定位置截取多长，start为负值从尾部算起，以截取的实际长度为准；length不指定截取至尾部<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var str = &apos;abcdefg&apos;;</span><br><span class="line">console.log(str.substr(1, 3))   //返回bcd</span><br><span class="line">console.log(str.substr(2))  //返回cdefg</span><br><span class="line">console.log(str.substr(-2, 4))  //返回fg，目标长度较大的话，以实际截取的长度为准</span><br></pre></td></tr></table></figure></p>
<p>5.其他方法<br>(1) replace(regexp/substr,replacement)方法<br>如果是子字符串，或正则表达式则会替换第一次匹配到的，如果是全局正则表达式，则会替换所有的；<br>(2) split(separator,howmany)方法，切割数组<br>separator：参考切割元素，howmany返回数组最大值；<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var str=&quot;178sdf29W1w&quot;;</span><br><span class="line">var a=str.split(&quot;s&quot;,4);//[ &apos;178&apos;, &apos;df29W1w&apos; ]</span><br></pre></td></tr></table></figure></p>
<p>注：用split()切割会变成数组，此时数组调用join()方法再次拼接成字符串<br>(3) toLowerCase()和toUpperCase()大小写转换</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/19/js关于字符串/" data-id="cjtildu9h0002iwuhd2li9v48" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js关于正则表达式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/19/js关于正则表达式/" class="article-date">
  <time datetime="2019-03-19T03:46:48.000Z" itemprop="datePublished">2019-03-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/19/js关于正则表达式/">js关于正则表达式</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.正则表达式的声明和使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">构造函数 var reg = new RegExp(/表达式/)</span><br><span class="line">字面量 var reg = /表达式/   推荐使用</span><br><span class="line">eg: var reg = /abc/    表示匹配含有abc 的字符串</span><br><span class="line">常用方法：reg.test(&quot;要检测的字符串&quot;)    返回布尔值</span><br><span class="line">正则.test(字符串)</span><br></pre></td></tr></table></figure></p>
<p>2.<br>①简单类 只要含有正则中的内容即可<code>var reg1 = /abc/;</code><br>②字符类 只要含有其中一个字符就可以<code>var reg2 = /[abc]/;</code><br>③反向类 在字符类中括号内部最开始写一个<code>^</code>，表示反向<code>var reg3 = /[^abc]/</code>表示除了abc以外的任何字符都可以；<br>④范围类 <code>var reg4=/[a-t]/</code>匹配a到t之间的字符<br>⑤组合类 <code>var reg4=/[a-t0-9]/</code>匹配a到t或0-9之间的字符，上面的扩展<br>⑥预定义类 提供相应的api化简写法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var reg6 = /\d/;// /[0-9]/;</span><br><span class="line">    /*</span><br><span class="line">    . 匹配除换行符以外的任意字符</span><br><span class="line">    \w  任何单字字符, 等价于[a-zA-Z0-9] </span><br><span class="line">    \W 等价于[^a-zA-Z0-9_] 非单词字符</span><br><span class="line">    \s 匹配任意的空白符 space</span><br><span class="line">    \S [^\f\r\n\t\v] 可见字符,字符全为空白时返回false</span><br><span class="line">    \d 匹配数字 digit,只要含数字就返回true</span><br><span class="line">    \D [^0-9] 非数字字符</span><br><span class="line">    \b 匹配单词，eg. \bapple\b匹配apple,单词前后是空格</span><br><span class="line">    */</span><br></pre></td></tr></table></figure></p>
<p>⑦转义字符 需转义如 <code>.</code> <code>*</code> <code>\</code> 转义成<code>\.</code> <code>\*</code> <code>\\</code><br>⑧或者<code>|</code> ,括号<code>()</code>, 提升优先级，先计算<code>var reg8 = /abc|bcd/;</code>配配 含abc或bcd的字符串<br>⑨<code>^</code>匹配字符串的开始 <code>$</code>匹配字符串的结束<br><code>var reg = /^abc/</code>以abc开头<code>var reg = /abc$/</code>以abc结尾<br>^和$同时使用 严格匹配-必须跟书写的正则内容完全相同<br>⑩量词 <code>var reg = /^a{3}$/</code>匹配a出现3次的字符串<br><code>var reg = /^a{2,5}$/</code>匹配a出现2到5次的字符串<br>3.replac和匹配模式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var str=&quot;abcba&quot;;//其中i是忽略大小写,g是全局匹配,不加只匹配第一个a</span><br><span class="line">console.log(str.replace(/a/ig, &quot;z&quot;));//zbcz</span><br><span class="line"></span><br><span class="line">var str = &quot; a a &quot;;</span><br><span class="line">console.log(str.replace(/\s/g, &quot;&quot;))//aa,匹配空白字符，用&quot;&quot;替换；</span><br><span class="line"></span><br><span class="line">//+ 匹配1个到多个</span><br><span class="line">var str = &quot;   bba abb   &quot;;</span><br><span class="line"> console.log(str.replace(/^\s+|\s+$/g, &quot;&quot;));//bba abb</span><br><span class="line">//去掉了两端的空格</span><br></pre></td></tr></table></figure></p>
<p>4.正则提取<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var str = &quot;aaa123hhh456hhh789aaa&quot;;</span><br><span class="line">//提取出字符串中的数字</span><br><span class="line">console.log(str.match(/\d&#123;3&#125;/));//长度为3的数字字符串，</span><br><span class="line">//未加全局变量的结果</span><br><span class="line">/*[ &apos;123&apos;,</span><br><span class="line">  index: 3,</span><br><span class="line">  input: &apos;aaa123hhh456hhh789aaa&apos;,</span><br><span class="line">  groups: undefined ]*/</span><br><span class="line">console.log(str.match(/\d&#123;3&#125;/g));//加了之后</span><br><span class="line">//[ &apos;123&apos;, &apos;456&apos;, &apos;789&apos; ]</span><br><span class="line"></span><br><span class="line">//提取邮箱，字符串.match(正则)</span><br><span class="line">var strEmail=&quot;我的邮箱是boom51@foxmail.com,记住了吗&quot;;</span><br><span class="line">var email=strEmail.match(/\w+@\w+\.\w+/);</span><br></pre></td></tr></table></figure></p>
<p>分组提取<br>正则.exec(字符串)，通过同一个正则表达式多次处理一个字符串，可以多次提取出匹配到的内容以及起始位置索引值匹配不到时返回null<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var reg=/\w+@\w+\.\w+/g;</span><br><span class="line">var result;</span><br><span class="line">var str=&quot;我的邮箱是boom51@foxmail.com,记住了吗,5151@qq.com&quot;;</span><br><span class="line">while ((result = reg.exec(str)) != null) &#123;</span><br><span class="line">    console.log(&quot;邮箱是：&quot; + result + &quot;，起始索引值为&quot; + result.index);</span><br><span class="line">&#125;</span><br><span class="line">//邮箱是：boom51@foxmail.com，起始索引值为5</span><br><span class="line">//邮箱是：5151@qq.com，起始索引值为29</span><br></pre></td></tr></table></figure></p>
<p>5.常用正则表达式校验reg.test(str)<br><code>^</code>和<code>$</code>同时使用 严格匹配-必须跟书写的正则内容完全相同<br><code>^[0-9]*$</code>//校验是否是数字字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var str=&quot;1782w9&quot;;</span><br><span class="line">var reg=/^[0-9]*$/;</span><br><span class="line">console.log(reg.test(str));//false</span><br></pre></td></tr></table></figure></p>
<p>n位的数字<code>^\d{n}$</code><br>至少n位的数字<code>^\d{n,}$</code><br>m-n位的数字<code>^\d{m,n}$</code><br>汉字：<code>^[\u4e00-\u9fa5]{0,}$</code><br>英文和数字：<code>^[A-Za-z0-9]+$</code>或 <code>^[A-Za-z0-9]{4,40}$</code><br>长度为3-20的所有字符：<code>^.{3,20}$</code><br>由26个英文字母组成的字符串：<code>^[A-Za-z]+$</code><br>…….更新中</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/03/19/js关于正则表达式/" data-id="cjtilduax000aiwuhgwx06z2s" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/21/js继承/">js继承</a>
          </li>
        
          <li>
            <a href="/2019/03/21/js轮播图/">js轮播图</a>
          </li>
        
          <li>
            <a href="/2019/03/21/Vue组件传值/">Vue组件传值</a>
          </li>
        
          <li>
            <a href="/2019/03/21/Vue指令/">Vue指令</a>
          </li>
        
          <li>
            <a href="/2019/03/20/es6学习笔记之promise/">es6学习笔记之promise</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 Fanrong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>